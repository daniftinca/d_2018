<button mat-raised-button color="primary" style="margin: 30px 0;" (click)="openAddBug()">
  <i class="material-icons">bug_report</i> {{ 'addBug.buttonAddBug' | translate}}
</button>

<div class="list-bugs-page">
  <div class="bugs-controls">

    <div class="filters">
      <h3>Filter</h3>
      <form onsubmit="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)">
        <mat-form-field>
          <input
            matInput
            #titleElement
            placeholder="Filter by Title"
            (change)="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)"
          >
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            #descriptionElement
            (change)="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)"
            placeholder="Filter by Description">
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            #statusElement
            (change)="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)"
            placeholder="Filter by Status">
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            #severityElement
            (change)="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)"
            placeholder="Filter by Severity">
        </mat-form-field>
      </form>
    </div>
    <div class="bug-sorts">
      <h3>Sort by</h3>
      <mat-checkbox #sortElementTitle (change)="toggleSort('title', sortElementTitle.checked)">Title</mat-checkbox>
      <mat-checkbox #sortElementVersion (change)="toggleSort('version', sortElementVersion.checked)">Versiune
      </mat-checkbox>

    </div>
  </div>
  <div class="bug-table">
    <table mat-table [dataSource]="bugList  | sortBy : sorted" class="mat-elevation-z8">


      <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef> Number</th>
        <td mat-cell *matCellDef="let element"> {{element.id}}</td>

      </ng-container>
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title</th>
        <td mat-cell *matCellDef="let element">
          <button mat-stroked-button color="primary" (click)="openDialog(element)">
            {{element.title}}
          </button>

        </td>

      </ng-container>
      <ng-container matColumnDef="version">
        <th mat-header-cell *matHeaderCellDef> Version</th>
        <td mat-cell *matCellDef="let element"> {{element.version}}</td>

      </ng-container>

      <ng-container matColumnDef="targetDate">
        <th mat-header-cell *matHeaderCellDef> Target Date</th>
        <td mat-cell *matCellDef="let element"> {{getDate(element.targetDate).toDateString()}}</td>
      </ng-container>


      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element"> {{element.status}}</td>
      </ng-container>

      <ng-container matColumnDef="fixedVersion">
        <th mat-header-cell *matHeaderCellDef>FixedVersion</th>
        <td mat-cell *matCellDef="let element"> {{element.fixedVersion}}</td>
      </ng-container>

      <ng-container matColumnDef="severity">
        <th mat-header-cell *matHeaderCellDef>Severity</th>
        <td mat-cell *matCellDef="let element"> {{element.severity}}</td>
      </ng-container>

      <ng-container matColumnDef="createdBy">
        <th mat-header-cell *matHeaderCellDef>Created By</th>
        <td mat-cell *matCellDef="let element"> {{element.createdByUser.username}}</td>
      </ng-container>

      <ng-container matColumnDef="assignedTo">
        <th mat-header-cell *matHeaderCellDef>Assigned To</th>
        <td mat-cell *matCellDef="let element"> {{element.assignedTo.username}}</td>
      </ng-container>

      <ng-container matColumnDef="exportExcel">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-raised-button color="primary" (click)="downloadExcel()">Export Excel</button>
        </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox #excelElem (change)="onChangeCheck(element, excelElem.checked)"></mat-checkbox>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">

      </tr>
    </table>

  </div>
</div>
<!--<div align="center" (*ngFor)="ngOnInit()">-->
<!--<table mat-table   class="mat-elevation-z8" >-->
<!--<thead>-->
<!--<tr>-->
<!--<th>{{ 'bugTable.number' | translate}}</th>-->
<!--<th>{{ 'bugTable.title' | translate}}</th>-->
<!--<th>{{ 'bugTable.version' | translate}}</th>-->
<!--<th>{{ 'bugTable.targetDate' | translate}}</th>-->
<!--<th>{{ 'bugTable.status' | translate}}</th>-->
<!--<th>{{ 'bugTable.fixedVersion' | translate}}</th>-->
<!--<th>{{ 'bugTable.severity' | translate}}</th>-->
<!--<th>{{ 'bugTable.createdBy' | translate}}</th>-->
<!--<th>{{ 'bugTable.assignedTo' | translate}}</th>-->
<!--<th>{{ 'bugTable.exportExcel' | translate}}</th>-->
<!--</tr>-->
<!--</thead>-->

<!--<tbody>-->
<!--<tr  *ngFor="let bug of bugList| sortBy : sorted; let i = index ">-->
<!--<td >{{i + 1}}</td>-->
<!--<td>-->
<!--<button class="btn btn-sm"  type="button" (click)="openDialog(bug)">{{bug.title}}-->
<!--</button>-->
<!--</td>-->
<!--<td>{{bug.version}}</td>-->
<!--<td>{{getDate(bug.targetDate).toDateString()}}</td>-->
<!--<td>{{bug.status}}</td>-->
<!--<td>{{bug.fixedVersion}}</td>-->
<!--<td>{{bug.severity}}</td>-->
<!--<td>{{bug.createdByUser.username}}</td>-->
<!--<td>{{bug.assignedTo.id}}</td>-->
<!--<td><input type="checkbox" #excelElem  (change)="onChangeCheck(bug, excelElem.checked)"></td>-->

<!--<div *ngIf="excelElem.checked" >  </div>-->

<!--</tr>-->
<!--</tbody>-->
<!--</table>-->

<!--</div>-->

<!--<button (click)="downloadExcel()" >EXCEL</button>-->


<!--<div align="center">-->
<!--<div class="input-label">-->
<!--<label for="titleInput"></label>-->
<!--<input type="text"-->
<!--#titleElement-->
<!--name="title"-->
<!--id="titleInput"-->
<!--class="form-control"-->
<!--required-->
<!--matInput placeholder="{{ 'bugFilter.title' | translate}}">-->
<!--</div>-->

<!--<div class="input-label">-->
<!--<label for="descriptionInput"></label>-->
<!--<input type="text"-->
<!--#descriptionElement-->
<!--name="description"-->
<!--id="descriptionInput"-->
<!--class="form-control"-->
<!--required-->
<!--matInput placeholder="{{ 'bugFilter.description' | translate}}">-->
<!--</div>-->

<!--<div class="input-label">-->
<!--<label for="statusInput"></label>-->
<!--<input type="text"-->
<!--#statusElement-->
<!--name="status"-->
<!--id="statusInput"-->
<!--class="form-control"-->
<!--required-->
<!--matInput placeholder="{{ 'bugFilter.status' | translate}}">-->
<!--</div>-->

<!--<div class="input-label">-->
<!--<label for="severityInput"></label>-->
<!--<input type="text"-->
<!--#severityElement-->
<!--name="title"-->
<!--id="severityInput"-->
<!--class="form-control"-->
<!--required-->
<!--matInput placeholder="{{ 'bugFilter.severity'}}">-->
<!--</div>-->


<!--<div align="center">-->
<!--<button mat-button (click)="filter(titleElement.value,descriptionElement.value,statusElement.value,severityElement.value)">{{'bugFilter.filter' | translate}}</button>-->
<!--&lt;!&ndash;<mat-chip>One fish</mat-chip>&ndash;&gt;-->
<!--</div>-->

<!--<div align="center">-->

<!--<label>{{ 'bugFilter.title' | translate}}</label>-->
<!--<input type="checkbox" #sortElem (change)="toggleSort('title', sortElem.checked)" >-->

<!--<label>{{ 'bugFilter.version' | translate}}</label>-->
<!--<input type="checkbox" #sortElem2 (change)="toggleSort('version', sortElem2.checked)" >-->


<!--&lt;!&ndash;<button mat-button *ngIf="sortElem.checked || sortElem2.checked" (click)="sort(sortElem.checked,sortElem2.checked)">&ndash;&gt;-->
<!--&lt;!&ndash;{{ 'bugFilter.sort' | translate}}&ndash;&gt;-->
<!--&lt;!&ndash;</button>&ndash;&gt;-->
<!--&lt;!&ndash;<button *ngFor=" let bug of bugList | sortBy : [{argument: 'title', order:'asc'} ,{argument: 'version', order: 'asc'}]">{{bug.title }},{{ bug.version}}</button>-->
<!--&ndash;&gt;-->
<!--&lt;!&ndash;<mat-chip>One fish</mat-chip>&ndash;&gt;-->
<!--</div>-->

<!--<button (click)="openUpdateDialog()">-->
<!--UPDATE-->
<!--</button>-->

<!--&lt;!&ndash;<button type="submit"&ndash;&gt;-->
<!--&lt;!&ndash;(click)="getBugsByDescriptionAndSeverity(titleElement.value,severityElement.value)"&ndash;&gt;-->
<!--&lt;!&ndash;&gt;FindByDescriptionAndSeverity&ndash;&gt;-->
<!--&lt;!&ndash;</button>&ndash;&gt;-->

<!--</div>-->

